<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Magical Animation</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

  <!-- Lottie for petals -->
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

  <!-- Particles.js -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js"></script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      height: 100%;
      overflow: hidden;
      font-family: 'Pacifico', cursive;
      position: relative;
      background: linear-gradient(-45deg, #2c003e, #4b0082, #1f0035, #000000);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      color: white;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    #particles-js {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    .container {
      z-index: 1;
      position: relative;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      text-align: center;
    }

    h1 {
      font-size: 4rem;
      text-shadow: 0 0 20px #fff;
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from { text-shadow: 0 0 10px #fff; }
      to { text-shadow: 0 0 30px #ff00ff, 0 0 60px #ff00ff; }
    }

    .petals { pointer-events: none; position: absolute; }

    /* Music Button */
    .music-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(255,255,255,0.1);
      border: none;
      border-radius: 50%;
      color: white;
      font-size: 24px;
      width: 50px;
      height: 50px;
      cursor: pointer;
      z-index: 2;
    }

    /* Cursor Glow Trail */
    .cursor-glow {
      position: fixed;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: rgba(255,0,255,0.6);
      pointer-events: none;
      transform: translate(-50%, -50%);
      animation: fadeOut 0.8s forwards;
    }
    @keyframes fadeOut {
      to { opacity: 0; transform: scale(2) translate(-50%, -50%); }
    }
  </style>
</head>
<body>

  <div id="particles-js"></div>

  <button class="music-btn" onclick="toggleMusic()">üéµ</button>

  <audio id="bgMusic" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
  </audio>

  <div class="container">
    <h1 id="typewriter"></h1>
  </div>

  <script>
    // üéµ Background music toggle
    const music = document.getElementById('bgMusic');
    function toggleMusic() {
      if (music.paused) music.play();
      else music.pause();
    }

    // ‚å® Typewriter effect with multiple messages
    const messages = ["hello Baagi ", "i'm preparing maggie üçú", "don‚Äôt be late üòâ"];
    let msgIndex = 0;
    let charIndex = 0;
    const typingSpeed = 120;
    function typeWriter() {
      if (charIndex < messages[msgIndex].length) {
        document.getElementById("typewriter").textContent += messages[msgIndex].charAt(charIndex);
        charIndex++;
        setTimeout(typeWriter, typingSpeed);
      } else {
        setTimeout(() => {
          document.getElementById("typewriter").textContent = "";
          charIndex = 0;
          msgIndex = (msgIndex + 1) % messages.length;
          typeWriter();
        }, 2000);
      }
    }
    typeWriter();

    // üå∏ Continuous falling petals
    setInterval(() => {
      const petal = document.createElement('lottie-player');
      petal.className = 'petals';
      petal.setAttribute('src', 'https://assets5.lottiefiles.com/packages/lf20_rvprghpq.json');
      petal.setAttribute('background', 'transparent');
      petal.setAttribute('speed', '1');
      petal.setAttribute('autoplay', '');
      petal.style.width = '40px';
      petal.style.height = '40px';
      petal.style.left = Math.random() * window.innerWidth + 'px';
      petal.style.top = '-60px';
      document.body.appendChild(petal);
      setTimeout(() => petal.remove(), 5000);
    }, 800);

    // ‚ú® Cursor glow trail
    document.addEventListener("mousemove", e => {
      const glow = document.createElement("div");
      glow.className = "cursor-glow";
      glow.style.left = e.clientX + "px";
      glow.style.top = e.clientY + "px";
      document.body.appendChild(glow);
      setTimeout(() => glow.remove(), 800);
    });

    // üåå Particles background
    particlesJS('particles-js', {
      "particles": {
        "number": { "value": 60 },
        "color": { "value": "#ffffff" },
        "shape": { "type": "circle" },
        "opacity": { "value": 0.5 },
        "size": { "value": 3 },
        "move": {
          "enable": true,
          "speed": 1,
          "direction": "bottom",
          "out_mode": "out"
        }
      }
    });
  </script>
</body>
</html>
